// RESPONSIVE STYLES

// Desktop 1030px max.       
@include media($desktop-med) {
    .container {            
        margin: 0 4%;
    }

    #carousel .slide .slide-content {
        width: 100%;
    }
}

// Remove social links when resizing browser down
@media (max-width: 1017px) {
    #social-links {
        display: none;
    }
}

@media (max-width: 861px) {
    #nav-cta {
        display: none;
    }
}

// Desktop small 867px
@include media($desktop-sml) {
    .about-row-img,
    .sell-row-img {
        width: 50%;
        min-height: 652px;
        position: absolute;
        right: 0;
    }
}

// Desktop small 768px
@include media($tablet) {

    .container {
        margin: 0 2%;
    }
    
    .about-row-img,
    .sell-row-img {
        width: 50%;
        min-height: 620px;
        position: absolute;
        right: 0;
    }

    #services {
        margin-top: 510px;
    }
    
    #shop, #sell .section-divider,
    .parallax,
    #nav-sell {
        display: none;
    }

    #sell .sell-row-img {
        min-height: 325px;
    }

    #header {
        position: fixed;
        width: 100%;
        top: 0;
        padding: 0;
        border-top: 6px solid $color-red;

        // Hamburger icon for mobile
        #nav-hamburger {
            display: block;
        }

        // Mobile nav
        #nav-main {
            margin: 0;            
            width: 100%;

            ul {
                display: none;
            }

            ul.mobile-dropdown {
                display: block;          
            }

            li {
                float: none;
                width: 100%;
                margin: 0;
                background-color: $color-red;
                border-bottom: 1px solid $color-white;

                a {
                    display: block;
                    text-transform: uppercase;
                    width: 100%;
                    height: 100%;
                    padding: 17px 15px;
                    font-size: rem(16);                  
                }

                a::after {
                    width: 100%;
                    -moz-transition: none;
                    -webkit-transition: none;
                    transition: none;                  
                }

                a:hover {
                    background-color: $color-white;
                    color: $color-red;
                }

                    ul#subnav {
                        display: none;
                        position: relative;
                        top: auto;
                        left: auto;
                        width: 100%;

                        li {
                            span {
                                display: none;
                                -moz-transition: none;
                                -webkit-transition: none;
                                transition: none;                                
                            }

                            a {
                                padding: 15px 40px;
                                border-bottom: none;                        
                            }
                        }
                    }

            }
            
            li#dropdown a {
                border-bottom: 1px solid $color-white;
            }

            li#dropdown > #subnav {
                display:block;
            }

            li#dropdown:hover > #subnav {
                display:block;
                -moz-animation: none;
                    -webkit-animation: none;
                        animation: none;
            }            
        }

        #logo {
            display: none;
        }

        #nav-cta {
            display: none;
        }

        #social-links {
            position: fixed;
            right: 80px;
            display: block;
            margin-top: 15px;
        }
            
        #nav-hamburger {
            position: absolute;
            right: -5px;
            z-index: 1000;       
            width: 30px;
            height: 45px;
            margin: 15px 20px;
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
            -webkit-transition: .5s ease-in-out;
            -moz-transition: .5s ease-in-out;
            -o-transition: .5s ease-in-out;
            transition: .5s ease-in-out;
            cursor: pointer;
        }

        #nav-hamburger span {
            display: block;
            position: absolute;
            height: 4px;
            width: 100%;
            background: $color-red;
            border-radius: 5px;
            opacity: 1;
            left: 0;
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
            -webkit-transition: .25s ease-in-out;
            -moz-transition: .25s ease-in-out;
            -o-transition: .25s ease-in-out;
            transition: .25s ease-in-out;
        }

        // #nav-hamburger.open span {
        //     background: $color-text;
        // }

        #nav-hamburger span:nth-child(1) {
            top: 0px;
        }

        #nav-hamburger span:nth-child(2),
        #nav-hamburger span:nth-child(3) {
            top: 9px;
        }

        #nav-hamburger span:nth-child(4) {
            top: 18px;
        }

        #nav-hamburger.open span:nth-child(1) {
            top: 18px;
            width: 0%;
            left: 50%;
        }

        #nav-hamburger.open span:nth-child(2) {
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        #nav-hamburger.open span:nth-child(3) {
            -webkit-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            -o-transform: rotate(-45deg);
            transform: rotate(-45deg);
        }

        #nav-hamburger.open span:nth-child(4) {
            top: 18px;
            width: 0%;
            left: 50%;
        }

    }
    
    // Tablet Minified nav.
    #header.nav-min {
        height: 60px;
        padding: 0;
        
        #nav-main {
            margin-top: 4px;

            a {
                color: $color-white;
            }
        }

        #logo {
            display: block;
            height: 46px;
            margin-top: 5px;
            background-size: 70%;
        }

        #nav-hamburger span {
            background-color: $color-text;
        }        
        
        #nav-hamburger.open span {
            background-color: $color-red;
        }

            #nav-main li#dropdown:hover > #subnav {
                display:block!important;
            }

        #nav-main a::after {
            display: none;
        }

    }

    #repair {
        margin-top: 65px;
    }

}

// Mobile 667px max.
@include media($mobile) {

    .container {
        margin: 0 4%;
        width: 92%;           
    }

    // Change to 1 column so everything blocks under each other
    .intro,
    .repair,
    .about-rows,
    #contact .two-col,
    #repair .two-col {
        @include span-columns(12 of 12);
    }

    // Carousel section
    #carousel .slide {
        .slide-content {
            width: 80%;
            margin: 0 auto;
        }

        article {
            width: 100%;
            float: none;
            margin: 0;
            padding-top: 80px;
            text-align: center;
        }
    }
    
    #services {
        padding-bottom: 10px;
    }

    #about .container article {
        margin-right: 10%;
    }

    #repair {
        article {
            width: 100%;
        }

        .img-holder img {
            left: 50%;
            right: 50%;
            margin-left: -85px;
        }
        
        .two-col {
            p, h2 {
                text-align: center;
            }

            h2::before {
                left: 50%;
                right: 50%;
                margin-left: -24%;
            }
        }
    }

    // Section Intro text articles
    article.intro p {
        width: 100%;
    }
    
    // Services equal margin bottoms for all products
    .repair,
    #services .row.row-products {
        margin-bottom: 30px;
    }

    #contact {
        #map {
            width: 100%;
        }

        #get-in-touch .intro {
            text-align: center;
            
            span {
                margin: 0 auto;
            }

            p {
                width: 100%;
            }
        }
    }

    // Hide sections that are not needed for mobile
    #about .section-divider,
    #sell .section-divider,
    #clients,
    #shop,
    #sell,        
    hr {
        display: none;
    }

}